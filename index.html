<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>WShEx</title>
    <link href="css/wshex.css" media="all" rel="stylesheet" title="WShEx" />
    <script 
     src='https://www.w3.org/Tools/respec/respec-w3c' 
     class='remove'></script>
    <script class='remove'>
      var respecConfig = {
        specStatus: "unofficial",
        editors: [{
          name: "Jose Emilio Labra Gayo",
          url: "https://labra.weso.es",
          company: "WESO Research group",
          companyURL: "https://www.weso.es",
        }],
        edDraftURI: "http://weso.es/wshex/",
        shortName: "wshex",
        localBiblio: {
            "SHEX": {
                title: "Shape Expressions Language 2.1",
                href: "http://shex.io/shex-semantics/",
                status: "CG-DRAFT"
            },
        }
      };
    </script>
  </head>
  <body>
    <section id='abstract'>
      <p>
        This document describes WShEx (Wikibase Shape Expressions), a language inspired by ShEx to describe and validate Wikibase entities.
      </p>
    </section>

<section id='sotd'>
<!--<p>
  This is required.
</p>-->
</section>

    <section>
        <h2>Introduction</h2>
        <p>
            WShEx is based on <a href="http://shex.io">Shape Expressions</a> ([[SHEX]]) and uses a similar syntax. The main difference is that while ShEx describes and validates RDF, WShEx describes and validates Wikibase entities.
        </p>
        <p><a href="https://wikiba.se/">Wikibase</a> is the software toolkit on which <a href="https://www.wikidata.org/">Wikidata</a> has been implemented. 
        Although the Wikibase data model offers an RDF serialization, it contains several 
         built-in features like labels, descriptions, aliases, qualifiers, references or ranks which are not directly supported by RDF. 
       </p> 
        <p>WShEx supports those Wikibase features as part of the language, which makes it more concise and usable to describe Wikibase entities.
        </p>
        <p>[[[#WShExRole]]] presents the role of WShEx sa a language that describes Wikibase entities directly, which is different to Entity Schemas in ShEx, which describes the RDF serializatoin of Wikibase entities. Both languages are complementary and it is possible to convert one to the other.</p>

        <figure id="WShExRole">
          <img src="images/WShExRole.svg" alt="WShEx Role" />
          <figcaption>WShEx role describing Wikibase entities</figcaption>
        </figure>

    </section>

<section>
 <h2>Namespaces</h2> 
 <p>In this document we will employ the following aliases for namespaces</p>

 <table>
 <tr>
  <td>wd</td><td>http://www.wikidata.org/entity/</td>
 </tr>
 <tr>
  <td>wdt</td><td>http://www.wikidata.org/prop/direct/</td>
 </tr> 
 <tr>
  <td>p</td><td>http://www.wikidata.org/prop/</td>
</tr><tr>
  <td>ps</td><td>http://www.wikidata.org/prop/statement/</td>
</tr><tr>
  <td>pq</td><td>http://www.wikidata.org/prop/qualifier/</td>
</tr><tr>
  <td>xsd</td><td>http://www.w3.org/2001/XMLSchema#</td>
 </tr>
 </table>
</section>    

<section>
<h2>Example</h2>
 <p>The following example declares a &lt;Researcher&gt; shape with several triple constraints. 
 </p>
 <p>We include both the WShEx schema (first column) and the equivalent ShEx schema (also called Entity Schema by the Wikibase community)</p>
 
<aside class="example">
 <div class="cols">

<div class="column1">
<p class="caption">WShEx</p>
  <!-- 
PREFIX :  <http://www.wikidata.org/entity/>

start = @<Researcher>

<Researcher> {
 :P31     [ :Q5 ]            ;
 :P19     @<Place>          ;     
 :P569    Time     ? ; 
 :P108    @<Organization> 
  {| :P580 Time ? , 
     :P582 Time ?
  |} * ;
 :P166  @<Award>  
  {| :P585  Time   ? , 
     :P1706 @<Researcher> ?
  |} *
}
<Place> { 
 :P17 @<Country> 
}
<Organization> {}
<Award> { 
 :P17 @<Country> 
}
<Country> {}

  -->  
<div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><br><div><span style="color: #0000ff;">start</span><span style="color: #000000;"> = @&lt;Researcher&gt;</span></div><br><div><span style="color: #000000;">&lt;Researcher&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P31 &#160; &#160; [ </span><span style="color: #0000ff;">:</span><span style="color: #000000;">Q5 ] &#160; &#160; &#160; &#160; &#160; &#160;;</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P19 &#160; &#160; @&lt;Place&gt; &#160; &#160; &#160; &#160; &#160;; &#160; &#160; </span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P569 &#160; &#160;Time &#160; &#160; ? ; </span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P108 &#160; &#160;@&lt;Organization&gt; </span></div><div><span style="color: #000000;">&#160; {| </span><span style="color: #0000ff;">:</span><span style="color: #000000;">P580 Time ? , </span></div><div><span style="color: #000000;">&#160; &#160; &#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P582 Time ?</span></div><div><span style="color: #000000;">&#160; |} * ;</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P166 &#160;@&lt;Award&gt; &#160;</span></div><div><span style="color: #000000;">&#160; {| </span><span style="color: #0000ff;">:</span><span style="color: #000000;">P585 &#160;Time &#160; ? , </span></div><div><span style="color: #000000;">&#160; &#160; &#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P1706 @&lt;Researcher&gt; ?</span></div><div><span style="color: #000000;">&#160; |} *</span></div><div><span style="color: #000000;">}</span></div><div><span style="color: #000000;">&lt;Place&gt; { </span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P17 @&lt;Country&gt; </span></div><div><span style="color: #000000;">}</span></div><div><span style="color: #000000;">&lt;Organization&gt; {}</span></div><div><span style="color: #000000;">&lt;Award&gt; { </span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P17 @&lt;Country&gt; </span></div><div><span style="color: #000000;">}</span></div><div><span style="color: #000000;">&lt;Country&gt; {}</span></div><br></div>

</div> <!-- column1 -->

<div class="column2">
<p class="caption">Entity Schema (ShEx)</p>    
  <!--
PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
PREFIX ps: <http://www.wikidata.org/prop/statement/>
PREFIX p: <http://www.wikidata.org/prop/>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

start = @<Researcher>

<Researcher> {
 wdt:P31  [ wd:Q5 ]         ;
 wdt:P19  @<Place>          ;     
 wdt:P569 xsd:dateTime    ? ; 
 wdt:P108 @<Organization> * ;
 p:P108 { 
  ps:P108  @<Organization>   ;
  pq:P580  xsd:dateTime    ? ; 
  pq:P582  xsd:dateTime    ?
 } * ;
 wdt:P166    @<Award>   *     ; 
 p:P166 { 
  ps:P166  @<Award>         ;
  pq:P585  xsd:dateTime   ? ; 
  pq:P1706 @<Researcher>  *
 } *
}
<Place> { 
 wdt:P17 @<Country> 
}
<Organization>   {}
<Award> { 
  wdt:P17 @<Country> ?
}
<Country> {}
  -->  
<div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">pq:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/qualifier/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">ps:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/statement/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">p:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/direct/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">xsd:</span><span style="color: #000000;"> &lt;http://www.w3.org/2001/XMLSchema#&gt;</span></div><br><div><span style="color: #0000ff;">start</span><span style="color: #000000;"> = @&lt;Researcher&gt;</span></div><br><div><span style="color: #000000;">&lt;Researcher&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P31 &#160;[ </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;">Q5 ] &#160; &#160; &#160; &#160; ;</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P19 &#160;@&lt;Place&gt; &#160; &#160; &#160; &#160; &#160;; &#160; &#160; </span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P569 </span><span style="color: #0000ff;">xsd:</span><span style="color: #000000;">dateTime &#160; &#160;? ; </span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P108 @&lt;Organization&gt; * ;</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">p:</span><span style="color: #000000;">P108 { </span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">ps:</span><span style="color: #000000;">P108 &#160;@&lt;Organization&gt; &#160; ;</span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">pq:</span><span style="color: #000000;">P580 &#160;</span><span style="color: #0000ff;">xsd:</span><span style="color: #000000;">dateTime &#160; &#160;? ; </span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">pq:</span><span style="color: #000000;">P582 &#160;</span><span style="color: #0000ff;">xsd:</span><span style="color: #000000;">dateTime &#160; &#160;?</span></div><div><span style="color: #000000;">&#160;} * ;</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P166 &#160; &#160;@&lt;Award&gt; &#160; * &#160; &#160; ; </span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">p:</span><span style="color: #000000;">P166 { </span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">ps:</span><span style="color: #000000;">P166 &#160;@&lt;Award&gt; &#160; &#160; &#160; &#160; ;</span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">pq:</span><span style="color: #000000;">P585 &#160;</span><span style="color: #0000ff;">xsd:</span><span style="color: #000000;">dateTime &#160; ? ; </span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">pq:</span><span style="color: #000000;">P1706 @&lt;Researcher&gt; &#160;*</span></div><div><span style="color: #000000;">&#160;} *</span></div><div><span style="color: #000000;">}</span></div><div><span style="color: #000000;">&lt;Place&gt; { </span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P17 @&lt;Country&gt; </span></div><div><span style="color: #000000;">}</span></div><div><span style="color: #000000;">&lt;Organization&gt; &#160; {}</span></div><div><span style="color: #000000;">&lt;Award&gt; { </span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P17 @&lt;Country&gt; ?</span></div><div><span style="color: #000000;">}</span></div><div><span style="color: #000000;">&lt;Country&gt; {}</span></div><div><span style="color: #000000;"></span></div></div>     
  
</div> <!-- column2 -->
</div>  <!-- cols -->
</aside>

</section>

<section>
<h2 id="primer">WShEx primer</h2>

<p>This section contains a primer about the WShEx language using several examples. </p>
<p>All the examples are represented using the WShEx compact syntax and the equivalent Entity Schema representation using ShEx compact syntax</p>

<section>
<h3 id="tripleConstraints">Triple constraints</h3>

<p>A triple constraint contains a declaration about a wikibase statement. It has a predicate, a value expression and a cardinality.</p>

<ul>
  <li>The predicate refers to the property. It points to the concept URI of the predicate, which in the case of Wikidata, is <code>&lt;http://www.wikidata.org/entity/P[number]&gt;</code>
  </li>
  <li>The value expression can be a shape reference or a <a href="#nodeConstraints">node constraint</a></li>
  <li>The cardinality can be empty, which means exactly 1, or it can be:
    <ul>
      <code>?</code>: zero or one (optional cardinality) 
      <code>+</code>: one or more 
      <code>*</code>: zero or more
      <code>{min,max}</code>: between min and max values
    </ul>
  </li>
</ul>


<aside class="example">
<p>The following example presents a schema which declares a shape Human with a single triple constraint that establishes that the values of property
<abbr title="instance of"><a href="http://www.wikidata.org/entity/P31">P31</a></abbr> 
should be the value <abbr title="Human"><a href="http://www.wikidata.org/entity/Q5">Q5</a></abbr>.</p>

<p>Notice that WShEx uses the wikidata entity namespace both for properties and items because 
 it is declaring constraints about concept URIs, not the RDF serialization of those entities.
 </p>

<div class="cols">
<div class="column2">
<p class="caption">WShEx</p>
<!-- 
PREFIX wd:  <http://www.wikidata.org/entity/>

<Human> {
  :P31 [ :Q5 ]  
}
-->  
<div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><br><div><span style="color: #000000;">&lt;Human&gt; {</span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">:</span><span style="color: #000000;">P31 [ </span><span style="color: #0000ff;">:</span><span style="color: #000000;">Q5 ] &#160;</span></div><div><span style="color: #000000;">}</span></div></div>

<div class="column">
<p class="caption">Entity Schema (ShEx)</p>    
<!--
PREFIX wd:  <http://www.wikidata.org/entity/>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    
<Human> {
 wdt:P31 [ wd:Q5 ]  
}  
-->  
<div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/direct/&gt;</span></div><div><span style="color: #000000;">&#160; &#160; </span></div><div><span style="color: #000000;">&lt;Human&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P31 [ </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;">Q5 ] &#160;</span></div><div><span style="color: #000000;">}</span></div></div>

</div>
</div> 
</aside>
</section> <!-- triple constraints -->

<section>
<h3 id="nodeConstraints">Node constraints</h3>

<p>Node constraints are value expressions that constrain the possible values of a node</p>
<p>They can be:</p>
<ul>
  <li><a href="#labels">Labels, descriptions and aliases</a></li>
  <li><a href="#valueSets">Value sets</a></li>
  <li><a href="#datatypeDecls">Datatype declarations</a></li>
  <li><a href="#facets">Facets</a></li>
</ul>

<section>

<h4 id="labels">Labels, descriptions and aliases</h4>
<p>Each Wikibase entity contains a list of associated labels, descriptions and aliases associated with languages</p>
<p>WShEx adds the keywords <code>Label</code>, <code>Description</code> and <code>Alias</code> 
  to describe the associated strings.</p>

<aside class="example">
<div class="cols">

<div class="column1">
 <p class="caption">WShEx</p>
<!-- 
PREFIX :  <http://www.wikidata.org/entity/>

<Researcher> Label (en -> .) {
 :P31  [ :Q5 ] ;
}
-->  
<div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><br><div><span style="color: #000000;">&lt;Researcher&gt; Label (en -&gt; .) {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P31 &#160;[ </span><span style="color: #0000ff;">:</span><span style="color: #000000;">Q5 ] ;</span></div><div><span style="color: #000000;">}</span></div></div>
</div>

<div class="column2">
<p class="caption">Entity Schema (ShEx)</p>    
<!--
PREFIX wd:  <http://www.wikidata.org/entity/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>

<Researcher> {
 rdfs:label [ @en ] ;
 wd:P31  [ wdt:Q5 ] ;
}          -->  
          <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">rdfs:</span><span style="color: #000000;"> &lt;http://www.w3.org/2000/01/rdf-schema#&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/direct/&gt;</span></div><br><div><span style="color: #000000;">&lt;Researcher&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">rdfs:</span><span style="color: #000000;">label [ @en ] ;</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wd:</span><span style="color: #000000;">P31 &#160;[ </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">Q5 ] ;</span></div><div><span style="color: #000000;">}</span></div></div>
</div> <!-- column2 -->
</div> <!-- cols-->
</aside> <!-- example-->

<p>It is possible to add string constraints to the labels, description and aliases associated to some language tag.</p>

<aside class="example">
  <div class="cols">
  
  <div class="column1">
   <p class="caption">WShEx</p>
  <!-- 
  PREFIX :  <http://www.wikidata.org/entity/>
  
  <Researcher> Label (en -> /^Douglas/) {
   :P31  [ :Q5 ] ;
  }
  -->  
  <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #000000;">&#160; </span></div><div><span style="color: #000000;">&lt;S&gt; Label (en -&gt; /^Douglas/) {</span></div><div><span style="color: #000000;">&#160; &#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P31 &#160;[ </span><span style="color: #0000ff;">:</span><span style="color: #000000;">Q5 ] ;</span></div><div><span style="color: #000000;">}</span></div></div>

 </div> <!-- column1 -->
  
  <div class="column2">
  <p class="caption">Entity Schema (ShEx)</p>    
  <!--
  PREFIX wd:  <http://www.wikidata.org/entity/>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  PREFIX wdt: <http://www.wikidata.org/prop/direct/>
  
  <Researcher> {
   rdfs:label [ @en ] AND /^Douglas/ ;
   wd:P31  [ wdt:Q5 ] ;
  }          -->  
  <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">rdfs:</span><span style="color: #000000;"> &lt;http://www.w3.org/2000/01/rdf-schema#&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/direct/&gt;</span></div><div><span style="color: #000000;">&#160; </span></div><div><span style="color: #000000;">&lt;Researcher&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">rdfs:</span><span style="color: #000000;">label [ @en ] </span><span style="color: #0000ff;">AND</span><span style="color: #000000;"> /^Douglas/ ;</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wd:</span><span style="color: #000000;">P31 &#160;[ </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">Q5 ] ;</span></div><div><span style="color: #000000;">}</span></div></div>

  </div> <!-- column2 -->
  </div> <!-- cols-->
  </aside> <!-- example-->
  

</section> <!-- labels -->


<section>
<h4 id="valueSets">Value sets</h4>
<p>Value sets are marked by <code>[</code> and <code>]</code>, for example 
     <code>[ :Q5 ]</code> declares that the possible values must be exactly <code>:Q5</code>. 
</p>

<aside class="example">
 <p>The following example declares a shape <code>Human</code> constraining the possible values of property <code>P31</code>
 to the value set formed by a single element <code>Q5</code>
</p> 
 <div class="cols">
      <div class="column1">
      <p class="caption">WShEx</p>
      <!-- 
      PREFIX wd:  <http://www.wikidata.org/entity/>
      
      <Human> {
        :P31 [ :Q5 ]  
      }
      -->  
      <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><br><div><span style="color: #000000;">&lt;Human&gt; {</span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">:</span><span style="color: #000000;">P31 [ </span><span style="color: #0000ff;">:</span><span style="color: #000000;">Q5 ] &#160;</span></div><div><span style="color: #000000;">}</span></div></div>
      </div>
      
      <div class="column2">
      <p class="caption">Entity Schema (ShEx)</p>    
      <!--
      PREFIX wd:  <http://www.wikidata.org/entity/>
      PREFIX wdt: <http://www.wikidata.org/prop/direct/>
          
      <Human> {
       wdt:P31 [ wd:Q5 ]  
      }  
      -->  
      <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/direct/&gt;</span></div><div><span style="color: #000000;">&#160; &#160; </span></div><div><span style="color: #000000;">&lt;Human&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P31 [ </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;">Q5 ] &#160;</span></div><div><span style="color: #000000;">}</span></div></div>
      
      </div>
      </div> 
</aside>

<p>It is possible to have several elements in the value set. 
</p>

<aside class="example">
  The following shape declares that the values of 
  <abbr title="instance of"><code>:P31</code></abbr> can be either 
  <abbr title="Human"><code>:Q5</code></abbr> or 
  <abbr title="Organization"><code>:Q43229</code></abbr>   
  
  <div class="cols">
      <div class="column1">
      <p class="caption">WShEx</p>
      <!-- 
      PREFIX wd:  <http://www.wikidata.org/entity/>
      
      <Human> {
        :P31 [ :Q5 :Q43229 ]  
      }
      -->  
      <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><br><div><span style="color: #000000;">&lt;Researcher&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P31 &#160;[ </span><span style="color: #0000ff;">:</span><span style="color: #000000;">Q5 </span><span style="color: #0000ff;">:</span><span style="color: #000000;">Q43229 ] ;</span></div><div><span style="color: #000000;">}</span></div><br></div>
    
    </div> <!--column1-->
      
    <div class="column2">
      <p class="caption">Entity Schema (ShEx)</p>    
      <!--
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>

<Researcher> {
 wdt:P31  [ wd:Q5 wd::Q43229 ] ;
}
      -->  
      <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/direct/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/entity/&gt;</span></div><br><div><span style="color: #000000;">&lt;Researcher&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P31 &#160;[ </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;">Q5 </span><span style="color: #0000ff;">wd::</span><span style="color: #000000;">Q43229 ] ;</span></div><div><span style="color: #000000;">}</span></div><br></div>

      </div> <!-- column2 -->
      </div> <!-- cols -->
  </aside>

  <section> 
    <h5 id="Stems">Stems of value sets</h4>
    <p>A value set can also contain Stems for IRIs</p>

    <aside class="example">
      The following shape declares that the values of 
      <abbr title="instance of"><code>:P31</code></abbr> can be either 
      <abbr title="Human"><code>:Q5</code></abbr> or 
      <abbr title="Organization"><code>:Q43229</code></abbr>   
      
      <div class="cols">
          <div class="column1">
          <p class="caption">Stem</p>
          <!-- 
          PREFIX :  <http://www.wikidata.org/entity/>
          PREFIX viaf: <https://viaf.org/viaf/>
          
          <S> {
            :P214 [ viaf:~ ]  
          }
          -->  
    <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">viaf:</span><span style="color: #000000;"> &lt;https://viaf.org/viaf/&gt;</span></div><div><span style="color: #000000;">&#160; &#160; &#160; &#160; &#160; </span></div><div><span style="color: #000000;">&lt;S&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P214 [ </span><span style="color: #0000ff;">viaf:</span><span style="color: #000000;">~ ] &#160;</span></div><div><span style="color: #000000;">}</span></div></div>        
        </div> <!--column1-->
          
        <div class="column2">
          <p class="caption">Entity Schema (ShEx)</p>    
          <!--
PREFIX wd:  <http://www.wikidata.org/entity/>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX viaf: <https://viaf.org/viaf/>
          
<S> {
 wdt:P214 [ viaf:~ ]  
}
          -->  
          <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/direct/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">viaf:</span><span style="color: #000000;"> &lt;https://viaf.org/viaf/&gt;</span></div><div><span style="color: #000000;">&#160; &#160; &#160; &#160; &#160; </span></div><div><span style="color: #000000;">&lt;S&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P214 [ </span><span style="color: #0000ff;">viaf:</span><span style="color: #000000;">~ ] &#160;</span></div><div><span style="color: #000000;">}</span></div></div>    
          </div> <!-- column2 -->
          </div> <!-- cols -->
      </aside>
    
  </section> <!-- stems -->  
  

</section> <!-- value sets -->

<section>
<h4 id="datatypeDecls">Built-in datatypes</h4>  
<p>WShEx will support the <a href="https://www.wikidata.org/wiki/Help:Data_type">built-in datatypes</a> from Wikidata</p>

<p class="note">Support for Built-in datatypes as part of value sets is still work-in-progress. One issue is the support for compact syntax for their values as well as facets.
</p>

<ul>
  <li>CommonsMedia</li>
  <li>GlobeCoordinate</li>
  <li>Item</li>
  <li>Property</li>
  <li>String</li>
  <li>MonolingualText</li>
  <li>ExternalIdentifier</li>
  <li>Quantity</li>
  <li>Time</li>
  <li>URL</li> 
  <li>MathematicalExpression</li>
  <li>GeographicShape</li>
  <li>MusicalNotation</li>
  <li>TabularData</li>
  <li>Lexeme</li>
  <li>Form</li>
  <li>Sense</li>
</ul>
</section> <!-- datatypes -->

<section>
<h4 id="facets">Facets</h4>
<p>It is possible to constraint the values of datatypes using facets</p>

<section>

  <h5 id="StringFacets">String facets</h5>
  <p>WShEx supports the same definition of string facets as ShEx, which can add constraining facets like specifying the <code>Length</code>, <code>MinLength</code>, <code>MaxLength</code> and a regular expression pattern marked by the slach characters (<code>/</code>)</p>

  <aside class="example">

    <div class="cols">
    <div class="column1">
    <p class="caption">WShEx</p>  
    <!-- 
PREFIX :  <http://www.wikidata.org/entity/>
          
<S> {
 :P1477 /^Douglas/
}
    -->  
    <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #000000;">&#160; &#160; &#160; &#160; &#160; </span></div><div><span style="color: #000000;">&lt;S&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P1477 /^Douglas/</span></div><div><span style="color: #000000;">}</span></div><br></div>   
    
    </div> <!-- column1 -->
      
    <div class="column2">
    <p class="caption">Entity Schema (ShEx)</p>      
      <!--
PREFIX wd:  <http://www.wikidata.org/entity/>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
          
<S> {
 wdt:P1477 /^Douglas/
}

    -->  
    <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/direct/&gt;</span></div><div><span style="color: #000000;">&#160; &#160; &#160; &#160; &#160; </span></div><div><span style="color: #000000;">&lt;S&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P1477 /^Douglas/</span></div><div><span style="color: #000000;">}</span></div><br></div>    
     </div> <!-- column2 -->
    </div> <!-- cols -->
    </aside>
    
</section>

<section>
  <h5 id="NumericFacets">Numeric facets</h5>
  <p>WShEx supports facets on numeric values like specifying 
     <code>MinInclusive</code>, <code>MinExclusive</code>, <code>MaxInclusive</code> and <code>MaxExclusive</code>. 
     These facets can be applied to numeric values like quantities.
     <p class="note">Although it is not currently supported, in the future, WShEx could also define numeric facets to compare the values of other datatypes, like time values, for example.</p>
  </p>

  <aside class="example">

    <div class="cols">
    <div class="column1">
    <p class="caption">WShEx</p>  
    <!-- 
PREFIX :  <http://www.wikidata.org/entity/>
          
<S> {
 :P2021 MaxInclusive 3
}
    -->  
    <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #000000;">&#160; &#160; &#160; &#160; &#160; </span></div><div><span style="color: #000000;">&lt;S&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">:</span><span style="color: #000000;">P2021 </span><span style="color: #0000ff;">MaxInclusive</span><span style="color: #000000;"> </span><span style="color: #098658;">3</span></div><div><span style="color: #000000;">}</span></div></div>

    </div> <!-- column1 -->
      
    <div class="column2">
    <p class="caption">Entity Schema (ShEx)</p>      
      <!--
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
          
<S> {
 wdt:P2021 MaxInclusive 3
}
    -->  
    <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/direct/&gt;</span></div><div><span style="color: #000000;">&#160; &#160; &#160; &#160; &#160; </span></div><div><span style="color: #000000;">&lt;S&gt; {</span></div><div><span style="color: #000000;">&#160;</span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P2021 </span><span style="color: #0000ff;">MaxInclusive</span><span style="color: #000000;"> </span><span style="color: #098658;">3</span></div><div><span style="color: #000000;">}</span></div><br><br></div>

  </div> <!-- column2 -->
    </div> <!-- cols -->
    </aside>

</section>

</section>  

</section> <!-- node constraints -->

<section>
<h3 id="qualifiers">Qualifiers</h3>
<p>One aspect that is different between Wikibase and RDF is the use of <a href="https://www.wikidata.org/wiki/Help:Qualifiers">qualifiers</a>. A qualifier annotates a statement with 
  further statements about it.</p>
<p>In WShEx, qualifiers are annotated using <code>{|</code> and <code>|}</code></p>  
<aside class="example">
  The following example declares the shape &lt;EnglishSite&gt; with a single triple constraint that establishes that the values of property
  <a href="http://www.wikidata.org/entity/P856">P856</a> (official website)
  can be anything (represented by dot) but should have the qualifier 
  <a href="http://www.wikidata.org/entity/P407">P407</a> (language of work or name)
  with the value <a href="http://www.wikidata.org/entity/Q1860">Q1860</a> (English).
  
  Notice that WShEx uses <code>{|</code> and <code>|}</code> to describe Wikibase qualifiers.

<aside class="example">
<div class="cols">
<div class="column1">
<p class="caption">WShEx</p>  
<!-- 
PREFIX wd:  <http://www.wikidata.org/entity/>

<EnglishSite> {
  :P856 .  {| :P407 [ :Q1860 ] |}
}
-->  
<div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><br><div><span style="color: #000000;">&lt;EnglishSite&gt; {</span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">:</span><span style="color: #000000;">P856 . &#160;{| </span><span style="color: #0000ff;">:</span><span style="color: #000000;">P407 [ </span><span style="color: #0000ff;">:</span><span style="color: #000000;">Q1860 ] |}</span></div><div><span style="color: #000000;">}</span></div><br></div>


</div> <!-- column1 -->
  
<div class="column2">
<p class="caption">Entity Schema (ShEx)</p>      
  <!--
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
PREFIX ps: <http://www.wikidata.org/prop/statement/>
PREFIX p: <http://www.wikidata.org/prop/>
    
<EnglishSite> {
  p:P856 {
    ps:P856 . 
    pq:P407 [ wd:Q1860 ] 
  }
}
-->  
  <div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">pq:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/qualifier/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">ps:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/statement/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">p:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/&gt;</span></div><div><span style="color: #000000;">&#160; &#160; </span></div><div><span style="color: #000000;">&lt;EnglishSite&gt; {</span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">p:</span><span style="color: #000000;">P856 {</span></div><div><span style="color: #000000;">&#160; &#160; </span><span style="color: #0000ff;">ps:</span><span style="color: #000000;">P856 . </span></div><div><span style="color: #000000;">&#160; &#160; </span><span style="color: #0000ff;">pq:</span><span style="color: #000000;">P407 [ </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;">Q1860 ] </span></div><div><span style="color: #000000;">&#160; }</span></div><div><span style="color: #000000;">}</span></div></div>

 </div> <!-- column2 -->
</div> <!-- cols -->
</aside>

</section> <!-- qualifiers -->


<h3 id="references">References</h3>

<p>References enable authors to associate reference information 
   about statements. 
   References are similar to qualifiers, but the wikibase data model allows references to be grouped, so for each statement, it is possible to have a list of references. 

<p>In WShEx, references are added after the keyword <code>References</code> and each property specification is annotated using <code>{|</code> and <code>|}</code></p>  

<aside class="example">
  The following example declares the shape &lt;HumansGND&gt; 
   which represents items which have been declared to be instances of Human <code>Q5</code> but that those statements contain reference information that declares that they have been <em>stated in</em> (<code>P248</code>) <em>German National Library</em> (<code>Q36578</code>) and contain also a <em>GND ID</em> (<code>P227</code>)

<div class="cols">
<div class="column1">
<p class="caption">WShEx</p>  
<!-- 
PREFIX :  <http://www.wikidata.org/entity/>

<Human> {
  :P31 [ :Q5 ] References {| 
    :P248 [:Q36578 ] ; 
    :P227 . |}
}
-->  
<div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">:</span><span style="color: #000000;"> &#160;&lt;http://www.wikidata.org/entity/&gt;</span></div><br><div><span style="color: #000000;">&lt;HumansGND&gt; {</span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">:</span><span style="color: #000000;">P31 [ </span><span style="color: #0000ff;">:</span><span style="color: #000000;">Q5 ] </span></div><div><span style="color: #000000;">&#160; References {| </span></div><div><span style="color: #000000;">&#160; &#160; </span><span style="color: #0000ff;">:</span><span style="color: #000000;">P248 [</span><span style="color: #0000ff;">:</span><span style="color: #000000;">Q36578 ] ; </span></div><div><span style="color: #000000;">&#160; &#160; </span><span style="color: #0000ff;">:</span><span style="color: #000000;">P227 . </span></div><div><span style="color: #000000;">&#160; |}</span></div><div><span style="color: #000000;">}</span></div></div>

</div> <!-- column1 -->
  
<div class="column2">
<p class="caption">Entity Schema (ShEx)</p>      
  <!--
PREFIX wd:   <http://www.wikidata.org/entity/>
PREFIX pq:   <http://www.wikidata.org/prop/qualifier/>
PREFIX ps:   <http://www.wikidata.org/prop/statement/>
PREFIX p:    <http://www.wikidata.org/prop/>
PREFIX pr: <http://www.wikidata.org/prop/reference/>
PREFIX prov: <http://www.w3.org/ns/prov#>
    
<HumansGND> {
  wdt:P31 [ wd:Q5 ]  ;
  p:31 {
    ps:P31 [ wd:Q5 ]  ;
    prov:wasDerivedFrom @<References>
  }
}

<References> {
  pr:P248 [ wd:Q36578 ] ; 
  pr:P227 .   
}
-->  
<div style="color: #000000;background-color: #ffffff;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;"> &#160; &lt;http://www.wikidata.org/entity/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/direct/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">pq:</span><span style="color: #000000;"> &#160; &lt;http://www.wikidata.org/prop/qualifier/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">ps:</span><span style="color: #000000;"> &#160; &lt;http://www.wikidata.org/prop/statement/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">p:</span><span style="color: #000000;"> &#160; &#160;&lt;http://www.wikidata.org/prop/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">pr:</span><span style="color: #000000;"> &lt;http://www.wikidata.org/prop/reference/&gt;</span></div><div><span style="color: #0000ff;">PREFIX</span><span style="color: #000000;"> </span><span style="color: #0000ff;">prov:</span><span style="color: #000000;"> &lt;http://www.w3.org/ns/prov#&gt;</span></div><div><span style="color: #000000;">&#160; &#160; </span></div><div><span style="color: #000000;">&lt;HumansGND&gt; {</span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">wdt:</span><span style="color: #000000;">P31 [ </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;">Q5 ] &#160;;</span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">p:</span><span style="color: #000000;">31 {</span></div><div><span style="color: #000000;">&#160; &#160; </span><span style="color: #0000ff;">ps:</span><span style="color: #000000;">P31 [ </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;">Q5 ] &#160;;</span></div><div><span style="color: #000000;">&#160; &#160; </span><span style="color: #0000ff;">prov:</span><span style="color: #000000;">wasDerivedFrom @&lt;References&gt;</span></div><div><span style="color: #000000;">&#160; }</span></div><div><span style="color: #000000;">}</span></div><br><div><span style="color: #000000;">&lt;References&gt; {</span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">pr:</span><span style="color: #000000;">P248 [ </span><span style="color: #0000ff;">wd:</span><span style="color: #000000;">Q36578 ] ; </span></div><div><span style="color: #000000;">&#160; </span><span style="color: #0000ff;">pr:</span><span style="color: #000000;">P227 . &#160; </span></div><div><span style="color: #000000;">}</span></div><br><br></div>

</div> <!-- column2 -->
  </div> 
  </aside>

</section> <!-- references -->

</section>

<section id="Semantics">
  <h2>Semantic specification</h2>
  
  <p class="note">The semantic specification is still work in progress. 
    A first draft of a semantic specification based on a subset of WShEx has been 
    published in the paper presented at Wikidata Workshop 2022: 
    <a href="https://arxiv.org/abs/2208.02697">WShEx: A language to describe and validate Wikibase entities</a></p>
</section>

<section id="Grammar">
  <h2>WShEx grammar</h2>
  <p class="note">An ANTLR Grammar of the compact syntax of current WShEx is available at: <a href="https://github.com/weso/shex-s/blob/master/modules/wshex/src/main/antlr4/WShExDoc.g4">WShExDoc.g4</a></p>
</section>

<section id="Implementations">
    <h2>WShEx implementations</h2>
    <ul>
      <li><a href="https://github.com/weso/shex-s/tree/master/modules/wshex">WShEx-s</a>: Scala implementation of WShEx. It is part of <a href="http://www.weso.es/shex-s/">ShEx-s</a>. It contains a converter from Entity Schemas to WShEx
      </li>
    </ul>
</section>
<section id="tof" class="appendix"></section>
  
  </body>
</html>